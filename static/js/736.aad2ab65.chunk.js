"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[736],{4736:function(e,n,r){r.r(n),r.d(n,{default:function(){return W}});var t=r(1413),i=r(5861),a=r(3433),s=r(9439),l=r(7757),h=r.n(l),o=r(2791),u=r(4265),c=r(1330),d=r(2501),p=r(9e3),g=r(4515),f=r(3226),v=r(7247),Z=r(4440),x=r(6151),m=r(4070),j=r(88);function C(e){var n=[],r=function(e){for(var n=0,r=0;r<e.length;r++)n+=parseInt(e[r]);return n/e.length},t=function(e,n,r,t,i){return((n-e)*i+(e-r)*t)/(n-r)},a=function(e,n,r,i,a){var s=[];return e>20?s.push(1):e<10?s.push(t(e,10,0,2.1,3)):s.push(t(e,20,10,1.1,2)),n>20?s.push(.75):n<10?s.push(.75*t(n,10,0,2.1,3)):s.push(.75*t(n,20,10,1.1,2)),r>1?s.push(.5):r<.5?s.push(.5*t(r,.5,0,2.1,3)):s.push(.5*t(r,1,.5,1.1,2)),i>20?s.push(.75):i<5?s.push(.75*t(i,5,0,2.1,3)):s.push(.75*t(i,20,5,1.1,2)),a>5?s.push(.75):a<2?s.push(.75*t(a,2,0,2.1,3)):s.push(.75*t(a,5,2,1.1,2)),s};if(e.map(function(){var e=(0,i.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.eChainage-t.sChainage,Promise.all([r(t.cracks.split(",")),r(t.rav.split(",")),r(t.pot.split(",")),r(t.patch.split(",")),r(t.dep.split(","))]).then((function(e){var t=a(e[0],e[1],e[2],e[3],e[4]);t&&n.push(r(t))}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n!=[])return n}var k=r(7123),w=r(5661),b=r(5289),y=r(9157),R=r(9836),N=r(3382),S=r(3994),A=r(9281),P=r(6890),V=r(5855),F=r(703),_=r(1610),T=r(2270),U=r(890),E=r(5193),H=r(3967),O=r(184);function D(e){var n=(0,_.sJ)(T.dQ),r=(0,_.sJ)(T.TZ),t=(0,_.sJ)(T.R0),i=(0,_.FV)(T.kU),a=(0,s.Z)(i,2),l=(a[0],a[1],e.result),h=e.setOpen,o=e.open,u=[],c=(0,H.Z)(),d=(0,E.Z)(c.breakpoints.down("md"));function p(){h(!1)}console.log(e);for(var g=0;g<n.length;g++){var f;console.log("result",l),(f=l[g]<1.1?"Poor":l[g]>=1.1&&l[g]<=2.1?"Fair":"Good")&&u.push({sChainage:n[g].sChainage,eChainage:n[g].eChainage,type:r,place:t,pcrValue:l[g],condition:f,shoulder:n[g].shoulder,remarks:n[g].remarks})}return[{id:"sChainage",label:"Start Chainage"},{id:"eChainage",label:"End chainage"},{id:"type",label:"Type of road"},{id:"place",label:"place Name"},{id:"pcrValue",label:"PCR Value"},{id:"condition",label:"Pavement Condition"},{id:"shoulder",label:"Shoulder condition"},{id:"remarks",label:"Remarks"}]&&u.length>0&&u.length==n.length&&(0,O.jsxs)(b.Z,{fullScreen:d,open:o,onClose:p,children:[(0,O.jsx)(w.Z,{children:(0,O.jsx)(U.Z,{align:"center",component:"div",variant:"h3",children:"Result"})}),(0,O.jsx)(y.Z,{children:(0,O.jsx)(A.Z,{component:F.Z,children:(0,O.jsxs)(R.Z,{sx:{minWidth:650},children:[(0,O.jsx)(P.Z,{children:(0,O.jsxs)(V.Z,{children:[(0,O.jsx)(S.Z,{children:"Start Chainage"}),(0,O.jsx)(S.Z,{align:"right",children:"End chainage"}),(0,O.jsx)(S.Z,{align:"right",children:"Type of Road"}),(0,O.jsx)(S.Z,{align:"right",children:"Place Name"}),(0,O.jsx)(S.Z,{align:"right",children:"PCR Value"}),(0,O.jsx)(S.Z,{align:"right",children:"Pavement Condition"}),(0,O.jsx)(S.Z,{align:"right",children:"Shoulder condition"}),(0,O.jsx)(S.Z,{align:"right",children:"Remarks"})]})}),(0,O.jsx)(N.Z,{children:u.map((function(e,n){return(0,O.jsxs)(V.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,O.jsx)(S.Z,{component:"th",scope:"row",children:e.sChainage}),(0,O.jsx)(S.Z,{align:"right",children:e.eChainage}),(0,O.jsx)(S.Z,{align:"right",children:e.type}),(0,O.jsx)(S.Z,{align:"right",children:e.place}),(0,O.jsx)(S.Z,{align:"right",children:e.pcrValue}),(0,O.jsx)(S.Z,{align:"right",children:e.condition}),(0,O.jsx)(S.Z,{align:"right",children:e.shoulder}),(0,O.jsx)(S.Z,{align:"right",children:e.remarks})]},n)}))})]})})}),(0,O.jsx)(k.Z,{children:(0,O.jsx)(x.Z,{onClick:p,variant:"contained",children:"Close"})})]})}var I=r(7414);function J(e){var n=[],r=function(e){for(var n=0,r=0;r<e.length;r++)n+=parseInt(e[r]);return n/e.length},t=function(e,n,r,t,i){return((n-e)*i+(e-r)*t)/(n-r)},a=function(e,n,r,i,a,s,l){var h=[];return e>10?h.push(1):e<5?h.push(t(e,5,0,2.1,3)):h.push(t(e,10,5,1.1,2)),n>10?h.push(.75):n<1?h.push(.75*t(n,1,0,2.1,3)):h.push(.75*t(n,10,1,1.1,2)),r>1?h.push(.5):r<.1?h.push(.5*t(r,.1,0,2.1,3)):h.push(.5*t(r,1,.1,1.1,2)),i>1?h.push(1):i<.1?h.push(t(i,.1,0,2.1,3)):h.push(t(i,1,.1,1.1,2)),a>10?h.push(.75):a<1?h.push(.75*t(a,1,0,2.1,3)):h.push(.75*t(a,10,1,1.1,2)),s>5?h.push(.75):s<1?h.push(.75*t(s,1,0,2.1,3)):h.push(.75*t(s,5,1,1.1,2)),l>10?h.push(1):l<5?h.push(t(l,5,0,2.1,3)):h.push(t(l,10,5,1.1,2)),h};if(e.map(function(){var e=(0,i.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.eChainage-t.sChainage,Promise.all([r(t.cracks.split(",")),r(t.rav.split(",")),r(t.pot.split(",")),r(t.shov.split(",")),r(t.patch.split(",")),r(t.dep.split(",")),r(t.rut.split(","))]).then((function(e){var t=a(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);t&&n.push(r(t))}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n!=[])return n}function M(e){var n=[],r=function(e){for(var n=0,r=0;r<e.length;r++)n+=parseInt(e[r]);return n/e.length},t=function(e,n,r,t,i){return((n-e)*i+(e-r)*t)/(n-r)},a=function(e,n,r,i,a){var s=[];return e>15?s.push(1):e<5?s.push(t(e,5,0,2.1,3)):s.push(t(e,15,5,1.1,2)),n>10?s.push(.75):n<5?s.push(.75*t(n,5,0,2.1,3)):s.push(.75*t(n,10,5,1.1,2)),r>.5?s.push(.5):r<0?s.push(.5*t(r,0,0,2.1,3)):s.push(.5*t(r,.5,0,1.1,2)),i>5?s.push(.75):i<1?s.push(.75*t(i,1,0,2.1,3)):s.push(.75*t(i,5,1,1.1,2)),a>10?s.push(1):a<5?s.push(t(a,5,0,2.1,3)):s.push(t(a,10,5,1.1,2)),s};if(e.map(function(){var e=(0,i.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.eChainage-t.sChainage,Promise.all([r(t.cracks.split(",")),r(t.rav.split(",")),r(t.pot.split(",")),r(t.dep.split(",")),r(t.rut.split(","))]).then((function(e){var t=a(e[0],e[1],e[2],e[3],e[4]);t&&n.push(r(t))}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n!=[])return n}var q=r(7865),G=r(7391);function Q(){return(0,O.jsxs)(u.D,{children:[(0,O.jsx)(c.Zh,{printOptions:{hideFooter:!0,hideToolbar:!0}}),(0,O.jsx)(d.S,{}),(0,O.jsx)(p.M,{})]})}function W(){var e=(0,_.FV)(T.dQ),n=(0,s.Z)(e,2),r=n[0],l=n[1],u=o.useState(0),c=(0,s.Z)(u,2),d=c[0],p=c[1],k=o.useState(!1),w=(0,s.Z)(k,2),b=w[0],y=w[1],R=(0,_.FV)(T.TZ),N=(0,s.Z)(R,2),S=N[0],A=N[1],P=(0,_.FV)(T.R0),V=(0,s.Z)(P,2),F=V[0],U=V[1],E=(0,_.FV)(T.kU),H=(0,s.Z)(E,2),W=H[0],z=H[1],B=o.useState(),K=(0,s.Z)(B,2),L=K[0],X=K[1],Y=o.useState(!1),$=(0,s.Z)(Y,2),ee=$[0],ne=$[1];console.log("totalresult",W);var re=function(){var e=(0,i.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X("Rural"==S?C(r):"Highway"==S?J(r):M(r));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=o.useState(null),ie=(0,s.Z)(te,2),ae=ie[0],se=ie[1],le=o.useCallback((function(e){return function(){setTimeout((function(){l((function(n){return n.filter((function(n){return n.id!==e}))}))}))}}),[]),he=o.useMemo((function(){return[{field:"sChainage",headerAlign:"center",width:150,headerName:"Start Chainage",type:"number",editable:!0},{field:"eChainage",headerAlign:"center",width:150,headerName:"End Chainage",type:"number",editable:!0},{field:"cracks",headerAlign:"center",headerName:"Cracks (%)",editable:!0},{field:"rav",headerAlign:"center",headerName:"Ravelling (%)",editable:!0},{field:"pot",headerAlign:"center",headerName:"Potholes (%)",editable:!0},{field:"shov",headerAlign:"center",headerName:"Shoving (%)",editable:!0},{field:"patch",headerAlign:"center",width:150,headerName:"Patch work (%)",editable:!0},{field:"dep",headerAlign:"center",headerName:"Cracks (%)",editable:!0},{field:"rut",headerAlign:"center",headerName:"Rut depth (%)",editable:!0},{field:"shoulder",headerAlign:"center",width:150,headerName:"Shoulder condition",editable:!0},{field:"remarks",headerAlign:"center",headerName:"Remarks",editable:!0},{field:"actions",type:"actions",headerName:"Delete",getActions:function(e){return[(0,O.jsx)(g.u,{icon:(0,O.jsx)(v.Z,{}),label:"Delete",onClick:le(e.id)})]}}]}),[le]);console.log("row init",r);var oe=function(){return se(null)},ue=function(){var e=(0,i.Z)(h().mark((function e(n,t){var i,s,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=r.indexOf(t),(s=(0,a.Z)(r))[i]=n,l(s),console.log("old",t),console.log("new",n),console.log("rows",r),o=n,se({children:"User successfully saved",severity:"success"}),e.abrupt("return",o);case 13:throw e.prev=13,e.t0=e.catch(0),se({children:"Error while saving user",severity:"error"}),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n,r){return e.apply(this,arguments)}}();return console.log("rows",r),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(I.Z,{spacing:{xs:3,sm:2,md:4},direction:{xs:"column",sm:"row"},style:{justifyContent:"space-between"},children:[(0,O.jsxs)(G.Z,{select:!0,required:!0,label:"Type of road",value:S,onChange:function(e){A(e.target.value)},sx:{width:200},children:[(0,O.jsx)(q.Z,{value:"Rural",children:"Rural"},"Rural"),(0,O.jsx)(q.Z,{value:"Highway",children:"Highway"},"Highway"),(0,O.jsx)(q.Z,{value:"Urban",children:"Urban"},"Urban")]}),(0,O.jsx)(G.Z,{required:!0,label:"Place Name",value:F,onChange:function(e){U(e.target.value)}}),(0,O.jsx)(x.Z,{onClick:function(){y(!0)},variant:"contained",children:"Add Record"}),(0,O.jsx)(j.Z,{count:d,setCount:p,open:b,setOpen:y,setRows:l})]}),(0,O.jsx)("br",{}),r!=[]?(0,O.jsxs)("div",{style:{height:400,width:"100%"},children:[(0,O.jsx)(f._,{editMode:"row",rows:r,columns:he,components:{Toolbar:Q},getRowId:function(e){return e.id},processRowUpdate:ue,experimentalFeatures:{newEditingApi:!0}}),!!ae&&(0,O.jsx)(Z.Z,{open:!0,onClose:oe,autoHideDuration:6e3,children:(0,O.jsx)(m.Z,(0,t.Z)((0,t.Z)({},ae),{},{onClose:oe}))})]}):(0,O.jsx)("p",{children:"No Record"}),(0,O.jsxs)(I.Z,{direction:"row",spacing:3,children:[!L&&(0,O.jsx)(x.Z,{onClick:re,variant:"contained",children:"Submit"}),L&&(0,O.jsx)(x.Z,{onClick:function(){ne(!0);for(var e=[],n=0;n<r.length;n++){var t;(t=L[n]<1.1?"Poor":L[n]>=1.1&&L[n]<=2.1?"Fair":"Good")&&e.push({id:r[n].id,sChainage:r[n].sChainage,eChainage:r[n].eChainage,cracks:r[n].cracks,rav:r[n].rav,pot:r[n].pot,shov:r[n].shov,patch:r[n].patch,dep:r[n].dep,rut:r[n].rut,shoulder:r[n].shoulder,remarks:r[n].remarks,pcrValue:L[n],condition:t})}if(e.length>0){var i={data:e,type:S,place:F};z((function(e){return[].concat((0,a.Z)(e),[i])}))}},variant:"contained",children:"Result"}),L&&(0,O.jsx)(D,{open:ee,result:L,setOpen:ne}),(0,O.jsx)(x.Z,{onClick:function(){l([]),X(),A("Rural"),U("place")},variant:"contained",children:"Reset"})]})]})}}}]);
//# sourceMappingURL=736.aad2ab65.chunk.js.map